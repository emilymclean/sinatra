amends "package://github.com/emilymclean/pkl-github-actions/releases/download/v1.0.0/pkl-github-actions@1.0.0#/actions.pkl"
import "package://components.emilym.cl/actions/actions@0.1.12#/common/common.pkl" as common

name = "Label Pull Requests"

on = new On {
    pull_request_target = new PullRequestTarget {
        types = new Listing {
            "edited"
            "opened"
            "reopened"
        }
    }
}

jobs = new Mapping {
    ["labeler"] = new Job {
        permissions = new Mapping {
            ["contents"] = "read"
            ["pull-requests"] = "write"
        }
        steps = new Listing {
            new ActionStep {
                uses = "actions/checkout@v4"
            }
            new ActionStep {
                uses = "actions/labeler@v5"
            }
        }
    }
}
